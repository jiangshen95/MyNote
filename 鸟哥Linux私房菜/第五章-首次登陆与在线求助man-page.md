# 首次登陆系统
重新启动X Window
* 直接注销，然后再重新登陆
* 再X的画面中直接按下[Alt] + [Ctrl] + [Backspace]

X Window与文本模式的切换
* 通常我们也称文本模式为terminal 或 console
* Linux默认的情况下会提供六个Terminal来让使用者登陆，切换方式为使用：[Ctrl] + [Alt] + [F1]~[F6]的组合按键，tty1~tty6
* [Ctrl] + [Alt] + [F7]回到X Window

在Linux默认的登陆模式中，主要分为两种，一种是仅有纯文本接口(所谓的运行等级run level 3)的登陆环境，在这种环境中你可以有tty1~tty6的终端界面，但是并没有图形窗口接口的环境。 另一种则是图形接口的登陆环境(所谓的运行等级run level 5)，在这个环境中你就具有tty1~tty7了，其中的tty7就是启动完成后的默认等待登陆的图形环境。  

在纯文本环境启动Linux时，没有tty7，使用`startx`命令启动X Window。
* 你的tty7并没有其他的窗口软件正在运行(tty7必须是空出来的)；
* 你必须要已经安装了X Window system，并且X server是能够顺利启动的；
* 你最好要有窗口管理员，例如GNOME/KDE或者是TWM等；
* 启动X所必须要的服务，例如字型服务器(X Font Server, xfs)必须要先启动。

Linux默认提供了七个Run Level，最常用到的就是run level3和run level5。如果想要让Linux在下次启动时使用纯文本环境(run level3来登陆)，只要修订一下/etc/inittab这个文件的内容，就能够在下次启动时生效了。

从终端介面登陆Linux
* “~”代表的是【用户的家目录】，是个变量
* 默认root的提示符为#，而一般身份用户的提示符为$
* 系统和Kernel版本信息，来自/etc/issue
* 注销Linux：`exit`，离开系统并不是关机，这次这个登陆的工作停止了，其他的工作还是继续进行

# 文本模式下命令的下达

文本登陆模式所取得的程序被称为壳(Shell)。

* 命令格式 `command [-options] parameter1 parameter2 ...`  
  第一个被输入的数据绝对是命令或者可运行的文件  
  Linux下命令区分大小写
* 语言支持  
  ```
    echo $LANG
    LANG=en_US
    echo $LANG
  ```
* 显示日期：
  ```
  date
  date +%Y/%m/%d
  date +%H:%M
  ```
* 日历 `cal [month] [year]`
* 计算器 `bc` 退出 `quit`
* > * 一种命令会直接显示结果然后回到命令提示符等待下一个命令的输入
  > * 一种是进入到该命令的环境，直到结束该命令才回到命令提示符的环境
* [Tab]按键
    * [Tab]接在一串命令的第一个字的后面，则为命令补全
    * [Tab]接在一串命令的第二个字以后时，则为文件补齐
* [Ctrl]-c 按键
  中断目前程序
* [Ctrl]-d 按键
  通常代表：键盘输入结束(End of File, EOF或End of Input)的意思  
  也可以用来取代exit的输入，例如如果想要直接离开文字接口，可以直接按下[ctrl]-d（相当于输入exit）

# Linux在线求助man pange与info page

* man page
  > 空格键往下翻页，[q]按键离开man环境

  [DATA(1)]，(1)代表[一般用户可以使用的命令] 可以使用命令`man 7 man`获得更详细的内容
  代号|代表内容
  :---:|:---:
  1|使用者在shell环境中可以操作的命令或运行文件
  2|系统核心可呼叫的函数与工具等
  3|一些常用的函数(function)与函数库(library)，大部分为C的函数库(libc)
  4|装置文件的说明，通常在/dev下的文件
  5|配置文件或是某些文件的格式
  6|游戏
  7|惯例与协议等，例如Linux文件系统、网络协议、ASCII code等等的说明
  8|系统管理员可用的管理命令
  9|跟kernel有关的文件
  man page的内容
  代号|内容说明
  :---:|:---:
  NAME|简短的命令、数据名称说明
  SYNOPSIS|简短的命令下达语法(syntax)简介
  DESCRIPTION|较为完整的说明，最好仔细看
  OPTIONS|针对SYNOPSIS部分中，有列举的所有可用的选项的说明
  COMMANDS|当这个程序(软件)在运行的时候，可以在此程序(软件)中下达的命令
  FILES|这个程序或数据所使用或参考或连结到的某些文件
  SEE ALSO|可以参考的，跟这个命令或数据有关的其他说明
  EXAMPLE|一些可以参考的范例
  BUGS|是否有关的Bug
  man page中的常用按键
  按键|进行工作
  :---:|:---:
  空格键|向下翻一页
  [Page Down]|向下翻一页
  [Page Up]|向上翻一页
  [Home]|去到第一页
  [End]|去到最后一页
  /string|向『下』搜寻 string 这个字符串，如果要搜寻 vbird 的话，就输入 /vbird
  ?string|向『上』搜寻 string 这个字符串
  n, N|利用 / 或 ? 来搜寻字符串时，可以用 n 来继续下一个搜寻 (不论是 / 或 ?) ，可以利用 N 来进行『反向』搜寻。举例来说，我以 /vbird 搜寻 vbird 字符串， 那么可以 n 继续往下查询，用 N 往上查询。若以 ?vbird 向上查询 vbird 字符串， 那我可以用 n 继续『向上』查询，用 N 反向查询。
  q|结束这次的 man page
  
  man page的数据通常放在/usr/share/man这个目录里，修改/etc/man.config可以改善目录
    * `man -f [命令或数据]` 找到跟[命令（全名）]相关的说明文件，输出数据
        * 左边部分：命令(或文件)以及该命令所代表的意义(就是那个数字)；
        * 右边部分：这个命令的简易说明，例如上述的『-macros to format man pages』
    * `man -k [命令或数据的关键词]` 找到所有含这个关键词的相关的说明文件
    * `whatis [命令或是数据]` <==相当于man -f [命令或数据]
    * `apropos [命令或数据]` <==相当于man -k  
      这两个特殊命令要能使用，必须要有创建 whatis 数据库才行！这个数据库的创建需要以 root 的身份下达命令 `makewhatis`

* info page  
  info page则是将文件数据拆成一个一个的段落，每个段落用自己的页面来撰写， 并且在各个页面中还有类似网页的『超链接』来跳到各不同的页面中，每个独立的页面也被称为一个节点(node)  
  要查询的目标数据的说明文件必须要以info的格式来写成才能够使用info的特殊功能。放置在/usr/share/info/这个目录中  
  第一行数据意义：
    * File：代表这个info page的数据是来自info.info文件所提供的；
    * Node：代表目前的这个页面是属于Top节点。 意思是info.info内含有很多信息，而Top仅是info.info文件内的一个节点内容而已；
    * Next：下一个节点的名称为Getting Started，你也可以按『N』到下个节点去；
    * Up：回到上一层的节点总揽画面，你也可以按下『U』回到上一层；
    * Prev：前一个节点。但由于Top是info.info的第一个节点，所以上面没有前一个节点的信息。 

  可以使用上下左右按键来将光标移动到该文字或者『 * 』上面，按下Enter， 就可以前往该小节了！另外，也可以按 下[Tab]按键，就可以快速的将光标在上表的画面中的node间移动  
  info page的按键使用
  按键|进行工作
  :---:|:---:
  空格键|向下翻一页
  [Page Down]|向下翻一页
  [Page Up]|向上翻一页
  [tab]|在 node 之间移动，有 node 的地方，通常会以 * 显示。
  [Enter]|当光标在 node 上面时，按下 Enter 可以进入该 node 。
  b|移动光标到该 info 画面当中的第一个 node 处
  e|移动光标到该 info 画面当中的最后一个 node 处
  n|前往下一个 node 处
  p|前往上一个 node 处
  u|向上移动一层
  s(/)|在 info page 当中进行搜寻
  h|显示求助菜单
  ?|命令一览表
  q|结束这次的 info page
  非以info page格式写成的说明文件，也能够使用info来显示，不过结果会跟man相同

* Documents(/usr/share/doc/)

# 文本编辑器：nano
组合按键：
* [ctrl]-G：取得联机帮助(help)，很有用的！
* [ctrl]-X：离开naon软件，若有修改过文件会提示是否需要储存喔！
* [ctrl]-O：储存文件，若你有权限的话就能够储存文件了；
* [ctrl]-R：从其他文件读入数据，可以将某个文件的内容贴在本文件中；
* [ctrl]-W：搜寻字符串，这个也是很有帮助的命令喔！
* [ctrl]-C：说明目前光标所在处的行数与列数等信息；
* [ctrl]-_：可以直接输入行号，让光标快速移动到该行；
* [alt]-Y：校正语法功能开启或关闭(单击开、再单击关)
* [alt]-M：可以支持鼠标来移动光标的功能  

# 正确的关机方法
* 查看目前有谁在线 `who`
* 查看网络联机的状态 `netstat -a`
* 背景运行的程序 `ps -aux`
* 将数据同步写入硬盘中的命令：`sync`
* 惯用的关机命令：`shutdown`
    * 可以自由选择关机模式：是要关机、重新启动或进入单人操作模式均可；
    * 可以配置关机时间：可以配置成现在立刻关机，也可以配置某一特定的时间关机
    * 可以自定义关机信息：在关机之前，可以将自己配置的信息传送给在线user
    * 可以仅发出警告信息：又是可能要你进行一些测试，而不想让其他使用者干扰，或者明白的告诉使用者某段时间要注意一下！这个时候可以使用shutdown来吓一下使用者，但却不是真的要关机。
    * 可以选择是否要fsck检查文件系统

    `/sbin/shutdown [-t 秒] [-arkhncfF] 时间 [警告信息]`  
    -t sec ： -t 后面加秒数，亦即『过几秒后关机』的意思  
    -k     ： 不要真的关机，只是发送警告信息出去！   
    -r     ： 在将系统的服务停掉之后就重新启动(常用)   
    -h     ： 将系统的服务停掉后，立即关机。 (常用)   
    -n     ： 不经过 init 程序，直接以 shutdown 的功能来关机   
    -f     ： 关机并启动之后，强制略过 fsck 的磁盘检查   
    -F     ： 系统重新启动之后，强制进行 fsck 的磁盘检查   
    -c     ： 取消已经在进行的 shutdown 命令内容。   
    时间   ： 指定系统关机的时间。这是一定要加入的参数！否则shutdown会自动跳到 run-level 1 (就是单人维护的登陆情况)
* 重新启动，关机：`reboot`, `halt`, `poweroff`  
  目前shutdown/reboot/halt等等命令均已在关机前进行了sync这个工具的呼叫  
  在默认情况下，，这几个命令都会完成一样的工作（因为halt会先呼叫shutdown，而shutdown最后会呼叫halt）。不过shutdown可以依据目前已启动的服务来逐次关闭各服务后关机；halt却能在不理会目前系统的状况下，进行硬件关机的特殊功能。
* 系统运行等级，七种运行等级：
    * run level 0: 关机
    * run level 3: 纯文本模式
    * run level 5: 含有图形接口模式
    * run level 6：重新启动
  
  使用init命令切换各个模式：`init 0`（关机）

# 启动过程的问题排解
## 文件系统错误的问题
硬盘可能有坏道或文件系统发生错误（数据损毁）的情况。
  * 因为断电或不正常关机导致的文件系统发生错误。并非硬件错误，而是软件数据的问题
  * 硬盘使用率过高或主机所在环境不良也是一个可能的原因。

### 如果根目录没有损毁：  
加入发生错误的partition是在/dev/sda7这一块，那么在启动时，屏幕会告诉你：press root password or ctrl+D：这个时候输入root的密码登陆系统进行如下动作：
* 在光标处输入root密码登陆系统，进行单人单机的维护工作
* 输入『 fsck /dev/sda7 』(fsck 为文件系统检查的命令，/dev/sda7为错误的partition，请依你的情况下达参数)， 这时屏幕会显示开始修理硬盘的信息，如果有发现任何的错误时，屏幕会显示： clear [Y/N]？ 的询问信息
* 修理完成之后，以reboot重新启动
### 如果根目录损毁了
* 将硬盘拔掉，接到另一台Linux系统的计算机上，并且不要挂载(mount)该硬盘，然后以root的身份运行 `fsck /dev/sdb1(以实际装置名来配置)`。
* 使用Live CD进入Linux操作系统的特性，然后利用fsck命令修复
### 硬盘整个坏掉
## 忘记root密码
grub介面按[e]进入grub的编辑模式  
将光标移动到kernel那一行，再按一次[e]，进入kernel该行的编辑画面中，最后方输入single  
再按下[Enter]确定之后，按下b就可以启动进入单人维护模式了，在这个模式下，你会在tty1的地方不需要再输入密码即可取得终端机的控制权(root身份)。之后就能够修改root密码了，用`passwd`命令修改密码。